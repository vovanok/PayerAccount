@model MainViewModel

@{
    ViewData["Title"] = "Main";
}
<div class="wrapper">
    <div class="sidebar" data-color="blue" data-image="~/images/face-10.jpg">
        <div class="sidebar-wrapper">

            <ul class="nav">
                <li>
                    <a href="dashboard.html">
                        <i class="pe-7s-graph"></i>
                        <p>Статистика</p>
                    </a>
                </li>
                <li class="active">
                    <a href="user.html">
                        <i class="pe-7s-user"></i>
                        <p>Профиль</p>
                    </a>
                </li>
                <li>
                    <a href="table.html">
                        <i class="pe-7s-note2"></i>
                        <p>Начисления</p>
                    </a>
                </li>
                <li>
                    <a href="typography.html">
                        <i class="pe-7s-news-paper"></i>
                        <p>Показания</p>
                    </a>
                </li>
                <li>
                    <a href="icons.html">
                        <i class="pe-7s-science"></i>
                        <p>Счетчики</p>
                    </a>
                </li>
                <li>
                    <a href="maps.html">
                        <i class="pe-7s-map-marker"></i>
                        <p>Отделение</p>
                    </a>
                </li>
                <li>
                    <a href="notifications.html">
                        <i class="pe-7s-bell"></i>
                        <p>Квитанция на оплату</p>
                    </a>
                </li>

            </ul>
        </div>
    </div>
    <div class="main-panel">
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="header">
                                <h4 class="title">Профиль</h4>
                            </div>
                            <div class="content">
                                <form  >
                                    <div class="row">

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Лицевой счет</label>
                                                <input type="email" class="form-control" placeholder="Email" value="@Model.UserNumber" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Абонент</label>
                                                <input type="text" class="form-control" placeholder="Company" value="@Model.UserName" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Сальдо</label>
                                                <input type="text" class="form-control" placeholder="Company" value="@Model.UserBalance.ToString("0.00")" readonly>
                                            </div>
                                        </div>
                                    </div>
                                       <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Адрес</label>
                                                <input type="text" class="form-control" placeholder="Home Address" value="@Model.UserAddress" readonly>
                                            </div>
                                        </div>
                                    </div>
                                 
                                </form>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="card">
                                            <div class="header">
                                                <h4 class="title">История контрольных показаний</h4>
                                                <p class="category">За период- 10 месяцев</p>
                                            </div>
                                            <div class="content table-responsive table-full-width">
                                                <table class="table table-hover table-striped">
                                                    <thead>
                                                    <th>Дата</th>
                                                    <th>Дневное показание</th>
                                                    <th>Ночное показание</th>
                                                    </thead>
                                                    <tbody>
                                                        @foreach (var x in Model.UserPayerCounterValues)
                                                        {
                                                            <tr>
                                                                <td>@x.RecieveDate.ToShortDateString()</td>
                                                                <td>@x.DayValue.ToString()</td>
                                                                <td>@x.NightValue.ToString()</td>
                                                            </tr>
                                                        }
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <form method="post" action="/Home/Main">
                                    <h4>Передать контрольные показания</h4>
                                     <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <input asp-for="UserNumber" type="hidden" class="form-control" placeholder="Company" />
                                                <label>Дневные показания</label>
                                                <input asp-for="UserDayCounterValue" type="text" class="form-control" placeholder="Company" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Ночные показания</label>
                                                <input  asp-for="UserNightCounterValue" type="text" class="form-control" placeholder="Company" />
                                            </div> 
                                        </div>
                                    </div>                                 
                                    <button type="submit" class="btn btn-info btn-fill pull-right">Сохранить</button>
                                    <div class="clearfix"></div>
                                </form>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="card">
                                            <div class="header">
                                                <h4 class="title">Карточка абонента</h4>
                                                <p class="category">История операций</p>
                                            </div>
                                            <div class="content table-responsive table-full-width">
                                                <table class="table table-hover table-striped">
                                                    <thead>
                                                    <th>Дата</th>
                                                    <th>Период</th>
                                                    <th>Показание (день)</th>
                                                    <th>КВт*ч (день)</th>
                                                    <th>Показание (ночь)</th>
                                                    <th>КВт*ч (ночь)</th>
                                                    <th>Начислено</th>
                                                    <th>Оплачено</th>
                                                    <th>Сальдо</th>
                                                    </thead>
                                                    <tbody>
                                                        @foreach (var y in Model.UserPayerPaymentExtracharges)
                                                        {
                                                            <tr>
                                                                <td colspan="9">
                                                                    @if (@y.PeriodAsString == null)
                                                                    {
                                                                        <div> Оплата </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div>Начисление  @Html.ActionLink("Печать квитанции", "GetPaymentReceipt", "Home")  </div>
                                                                    }
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                @if (@y.PeriodAsString == null)
                                                                {
                                                                    <td>@y.EntryDate.ToShortDateString()</td>
                                                                    <td colspan="6"></td>
                                                                    <td>@y.PaymentValue</td>
                                                                    <td></td>
                                                                }
                                                                else
                                                                {
                                                                    <td>@y.EntryDate.ToShortDateString()</td>
                                                                    <td>@y.PeriodAsString</td>
                                                                    <td>@y.DayValue</td>
                                                                    <td>@y.DayKwh</td>
                                                                    <td>@y.NightValue</td>
                                                                    <td>@y.NightKwh</td>
                                                                    <td>@y.EstimateValue</td>
                                                                    <td>@y.PaymentValue</td>
                                                                    <td>@y.Balance</td>
                                                                }
                                                            </tr>
                                                        }
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

    </div>




          
